---
import ProjectCard from "./ProjectCard.astro";

const projects = [
    {
        title: "Patient Data Platform",
        description:
            "Architected a Rails 8 system managing sensitive patient records, automated pharmacy data imports, and real-time analytics. Handles encrypted FTP pipelines from major specialty pharmacies with role-based access control.",
        tags: ["Rails", "Healthcare", "Data Pipelines"],
        featured: true,
    },
    {
        title: "Territory Management System",
        description:
            "Built a comprehensive platform managing 375+ sales territories across multiple therapeutic divisions. Features automated transfer scheduling, coverage analytics, and change audit trails.",
        tags: ["Rails", "Enterprise", "Analytics"],
    },
    {
        title: "R&D Pipeline Visualizer",
        description:
            "Interactive Vue/TypeScript dashboard tracking drug development from preclinical through approval. Embeddable widget with multiple visualization modes and automated screenshot generation.",
        tags: ["Vue", "TypeScript", "Data Viz"],
    },
    {
        title: "Clinical Trial Platform",
        description:
            "Multi-tenant Rails application for clinical trial respondent management. Includes timestamped verification code generation, admin dashboards, and comprehensive E2E test coverage.",
        tags: ["Rails", "React", "Clinical"],
    },
    {
        title: "Multi-Market Brand Sites",
        description:
            "Developed and maintained 12+ regulatory-compliant pharmaceutical websites across US, Canada, Germany, and Austria. HLS video streaming, localization, and CRM integrations.",
        tags: ["Vite", "Vue", "i18n"],
    },
    {
        title: "Call Recording Analytics",
        description:
            "Node.js system for bulk retrieval and organization of Twilio call recordings. SQLite-backed querying with Excel report generation for patient communication analysis.",
        tags: ["Node.js", "Twilio", "Analytics"],
    },
    {
        title: "Podcast RAG System",
        description:
            "Personal project: semantic search across 470+ podcast episodes using ChromaDB vectors and Claude AI. Web interface with episode citations and session management.",
        tags: ["Python", "FastAPI", "AI/ML"],
        link: "https://github.com/ericdfields/roderickon",
    },
    {
        title: "VennDgram",
        description:
            "Interactive Venn diagram editor with daily puzzle challenges. Create, share, and solve visual logic puzzles.",
        tags: ["Full-Stack", "Interactive", "Games"],
        link: "https://github.com/ericdfields/venndgram",
    },
];
---

<section class="projects">
    <!-- Animated gradient blobs -->
    <div class="blob blob-1" aria-hidden="true"></div>
    <div class="blob blob-2" aria-hidden="true"></div>

    <div class="container">
        <span class="chapter-label">Selected Work</span>
        <h2>Projects</h2>
        <p class="section-intro">
            A showcase of recent projects and long-term enterprise solutions
            I've architected and delivered.
        </p>
        <div class="projects-grid">
            {projects.map((project, index) => <ProjectCard {...project} index={index} />)}
        </div>
    </div>
</section>

<style>
    .projects {
        padding: var(--spacing-xl) 0;
        background: var(--color-surface);
        position: relative;
        overflow: hidden;
    }

    .blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        opacity: 0.15;
        pointer-events: none;
        z-index: 0;
    }

    .blob-1 {
        width: 500px;
        height: 500px;
        background: radial-gradient(circle, var(--color-primary) 0%, transparent 70%);
        top: -100px;
        right: -150px;
        animation: float1 20s ease-in-out infinite;
    }

    .blob-2 {
        width: 400px;
        height: 400px;
        background: radial-gradient(circle, var(--color-secondary) 0%, transparent 70%);
        bottom: -100px;
        left: -100px;
        animation: float2 25s ease-in-out infinite;
    }

    :global([data-theme="light"]) .blob {
        opacity: 0.1;
    }

    @keyframes float1 {
        0%, 100% {
            transform: translate(0, 0) scale(1);
        }
        33% {
            transform: translate(-30px, 40px) scale(1.1);
        }
        66% {
            transform: translate(20px, -20px) scale(0.95);
        }
    }

    @keyframes float2 {
        0%, 100% {
            transform: translate(0, 0) scale(1);
        }
        33% {
            transform: translate(40px, -30px) scale(1.05);
        }
        66% {
            transform: translate(-20px, 30px) scale(1.1);
        }
    }

    .container {
        position: relative;
        z-index: 1;
    }

    .projects .chapter-label {
        margin-bottom: 0.5rem;
    }

    .projects h2 {
        margin-bottom: var(--spacing-sm);
        color: var(--color-text);
    }

    .section-intro {
        font-size: var(--text-body);
        margin-bottom: var(--spacing-lg);
        max-width: 700px;
        color: var(--color-text-light);
    }

    .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: var(--spacing-md);
    }

    @media (max-width: 768px) {
        .projects-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
